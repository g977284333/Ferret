# 热门关键词筛选标准说明

## 筛选标准

### 当前标准
- **增长率阈值**：≥ 5%（前端请求时使用）
- **数据要求**：至少需要2个数据点才能计算增长率
- **排序方式**：按增长率从高到低排序

### 筛选逻辑

1. **第一步**：计算每个关键词的增长率
   - 如果数据 ≥ 60个点：比较最近30天 vs 前30天的平均值
   - 如果数据 < 60个点：比较最后一个值 vs 第一个值

2. **第二步**：筛选热门关键词
   - 增长率 ≥ 5% 的关键词被标记为"热门"
   - 如果热门关键词少于3个，则显示所有关键词（按增长率排序）

3. **显示规则**：
   - 最多显示10个关键词
   - 按增长率从高到低排序
   - 显示增长率、趋势图标、平台信息

## 为什么yoga没有显示？

可能的原因：

1. **增长率低于5%**
   - yoga的增长率可能是负数或接近0
   - 如果fitness的增长率更高，yoga可能被排在后面

2. **数据不足**
   - yoga可能只有1个数据点，无法计算增长率
   - 需要至少2个数据点才能分析

3. **数据质量问题**
   - 如果yoga的数据有问题，分析可能失败

## 改进建议

### 已实现
- ✅ 如果热门关键词少于3个，显示所有关键词（按增长率排序）
- ✅ 添加阈值提示（显示"增长率 ≥ 5%"）

### 可选改进
- [ ] 显示所有关键词，但用不同颜色区分热门程度
- [ ] 允许用户自定义增长率阈值
- [ ] 显示关键词的详细统计信息（平均热度、数据点数等）

## 如何查看所有关键词？

1. **查看"已采集关键词"列表**：显示所有已采集的关键词
2. **降低阈值**：可以修改前端代码，将 `min_growth_rate=5` 改为 `min_growth_rate=0` 或负数
3. **查看图表**：选择关键词后，可以查看详细的趋势图表

## 数据说明

### 增长率计算
- **正增长率**：表示搜索热度在上升（热门）
- **负增长率**：表示搜索热度在下降
- **接近0**：表示搜索热度稳定

### 趋势分类
- `rising`：上升（增长率 > 20%）
- `slightly_rising`：小幅上升（增长率 5-20%）
- `stable`：稳定（增长率 -5% 到 5%）
- `slightly_declining`：小幅下降（增长率 -20% 到 -5%）
- `declining`：下降（增长率 < -20%）
