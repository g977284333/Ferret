# 趋势功能测试指南

## ✅ 后端测试结果

### 测试通过的功能
1. **数据管理器** ✅
   - 趋势数据保存功能正常
   - 任务保存功能正常

2. **趋势分析器** ✅
   - 趋势增长分析功能正常
   - 增长率计算正确

3. **趋势采集器** ⚠️
   - 代码逻辑正确
   - Google Trends连接可能受网络影响（超时）

## 🧪 前端功能测试步骤

### 1. 启动前端服务

```bash
cd frontend/web
python app.py
```

服务启动后，访问：`http://localhost:5000`

### 2. 访问趋势页面

在浏览器中打开：`http://localhost:5000/trends`

### 3. 测试功能清单

#### ✅ 基础功能测试

**3.1 关键词管理**
- [ ] 添加关键词（输入框 + Enter键）
- [ ] 添加关键词（点击"添加"按钮）
- [ ] 删除关键词（点击×按钮）
- [ ] 关键词列表显示正常

**3.2 平台选择**
- [ ] Google Trends选项已选中
- [ ] 其他平台显示为"待实现"（正常）

**3.3 时间范围选择**
- [ ] 下拉菜单正常显示
- [ ] 可以选择不同时间范围

**3.4 采集任务**
- [ ] 点击"开始采集"按钮
- [ ] 进度卡片显示
- [ ] 状态指示器显示"运行中"
- [ ] 进度条更新
- [ ] 当前关键词显示
- [ ] 采集完成后显示结果

**3.5 数据展示**
- [ ] 热门关键词列表加载
- [ ] 已采集关键词列表加载
- [ ] 关键词选择下拉菜单更新

#### ⚠️ 已知问题

1. **Google Trends连接超时**
   - 如果采集失败，可能是网络问题
   - 可以尝试：
     - 检查网络连接
     - 使用VPN（如果需要）
     - 稍后重试

2. **图表功能未实现**
   - 趋势图表需要Chart.js
   - 这是下一步要完成的功能

3. **停止功能未实现**
   - 停止按钮目前显示"待实现"
   - 这是下一步要完成的功能

## 🔍 问题排查

### 如果采集失败

1. **检查网络连接**
   ```bash
   ping trends.google.com
   ```

2. **检查后端日志**
   - 查看运行Flask的终端窗口
   - 查看是否有错误信息

3. **检查浏览器控制台**
   - 按F12打开开发者工具
   - 查看Console标签是否有错误

4. **检查API端点**
   ```bash
   # 测试API是否正常
   curl http://localhost:5000/api/v1/trends/hot
   ```

### 如果页面无法加载

1. **检查Flask服务是否运行**
   ```bash
   # 检查端口5000是否被占用
   netstat -ano | findstr :5000
   ```

2. **检查路由是否正确**
   - 确认`app.py`中注册了`trends_bp`
   - 确认路由前缀为`/api/v1/trends`

3. **检查模板文件**
   - 确认`templates/trends.html`存在
   - 确认`static/js/trends.js`存在

## 📝 测试记录

### 测试日期：___________

### 测试结果

| 功能 | 状态 | 备注 |
|------|------|------|
| 关键词管理 | ⬜ | |
| 平台选择 | ⬜ | |
| 时间范围选择 | ⬜ | |
| 启动采集 | ⬜ | |
| 进度显示 | ⬜ | |
| 数据保存 | ⬜ | |
| 热门关键词 | ⬜ | |
| 已采集关键词 | ⬜ | |

### 发现的问题

1. _________________________________
2. _________________________________
3. _________________________________

## 🚀 下一步

测试完成后，根据结果决定：
1. 如果功能正常 → 开始第二步：完善图表展示
2. 如果有问题 → 先修复问题，再继续
