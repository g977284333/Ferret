# Ferret 项目开发流程规范

## 工作流程概述

本项目采用标准化的软件开发流程，确保需求理解准确、设计合理、开发规范、质量可控。

## 流程阶段与角色

### 阶段1: 需求分析阶段
**角色: 需求分析师**

**职责:**
- 理解用户提出的需求
- 分析需求的背景、目标和价值
- 识别需求中的关键信息点
- 提出澄清问题，确保理解准确
- 输出需求分析文档

**工作内容:**
1. **需求理解**
   - 仔细阅读用户描述
   - 识别核心需求点
   - 识别隐含需求
   - 识别边界条件和约束

2. **需求澄清**
   - 提出开放性问题，确认理解
   - 询问使用场景和用户角色
   - 确认优先级和重要性
   - 确认技术约束和限制

3. **需求分析**
   - 分析需求的可行性
   - 识别潜在的技术难点
   - 评估开发工作量
   - 识别依赖关系

4. **输出文档**
   - 需求分析总结
   - 待确认问题列表
   - 初步技术方案建议

**输出物:**
- 需求分析文档（包含：需求描述、使用场景、待确认问题、初步建议）

**进入下一阶段条件:**
- 用户确认需求理解正确
- 所有关键问题已得到回答
- 需求范围明确

---

### 阶段2: 产品设计阶段
**角色: 产品经理**

**职责:**
- 基于需求分析，设计产品功能
- 定义功能边界和交互流程
- 确定功能优先级
- 输出产品设计文档

**工作内容:**
1. **功能设计**
   - 定义功能模块
   - 设计功能流程
   - 确定功能边界
   - 设计异常处理

2. **交互设计**
   - 设计用户操作流程
   - 定义输入输出
   - 设计反馈机制
   - 考虑用户体验

3. **优先级规划**
   - 确定MVP功能
   - 规划迭代计划
   - 识别依赖关系

4. **输出文档**
   - 产品功能设计文档
   - 功能清单
   - 交互流程图（文字描述）

**输出物:**
- 产品设计文档（包含：功能列表、交互流程、优先级、验收标准）

**进入下一阶段条件:**
- 用户确认产品设计方案
- 功能边界清晰
- 验收标准明确

---

### 阶段3: UI/UX设计阶段
**角色: UI设计师**

**职责:**
- 基于产品设计，设计界面布局
- 设计用户界面元素
- 考虑视觉层次和用户体验
- 输出UI设计说明

**工作内容:**
1. **界面设计**
   - 设计页面布局
   - 设计组件样式
   - 设计信息架构
   - 考虑响应式设计

2. **交互设计**
   - 设计交互反馈
   - 设计加载状态
   - 设计错误提示
   - 设计成功反馈

3. **视觉设计**
   - 设计颜色方案
   - 设计字体和间距
   - 设计图标和按钮
   - 保持设计一致性

4. **输出文档**
   - UI设计说明文档
   - 组件设计规范
   - 布局结构说明

**输出物:**
- UI设计文档（包含：页面布局、组件设计、交互说明、样式规范）

**进入下一阶段条件:**
- 用户确认UI设计方案
- 界面设计清晰
- 交互流程明确

---

### 阶段4: 研发阶段
**角色: 研发工程师**

**职责:**
- 基于产品设计和UI设计，进行技术实现
- 编写高质量代码
- 遵循代码规范
- 输出技术文档

**工作内容:**
1. **技术方案设计**
   - 设计技术架构
   - 选择技术栈
   - 设计数据库结构
   - 设计API接口

2. **编码实现**
   - 编写代码
   - 遵循代码规范
   - 添加必要注释
   - 处理异常情况

3. **代码审查**
   - 检查代码质量
   - 检查代码规范
   - 检查错误处理
   - 检查性能问题

4. **输出文档**
   - 技术实现文档
   - API文档
   - 数据库设计文档

**输出物:**
- 代码实现
- 技术文档（包含：架构设计、API说明、数据库设计、部署说明）

**进入下一阶段条件:**
- 代码实现完成
- 代码通过自检
- 技术文档完整

---

### 阶段5: 测试阶段
**角色: 测试工程师**

**职责:**
- 基于产品设计和验收标准，设计测试用例
- 执行功能测试
- 执行边界测试
- 输出测试报告

**工作内容:**
1. **测试用例设计**
   - 设计功能测试用例
   - 设计边界测试用例
   - 设计异常测试用例
   - 设计性能测试用例

2. **测试执行**
   - 执行功能测试
   - 执行边界测试
   - 执行异常测试
   - 记录测试结果

3. **问题跟踪**
   - 记录发现的Bug
   - 分析Bug原因
   - 跟踪Bug修复
   - 验证Bug修复

4. **输出文档**
   - 测试报告
   - Bug清单
   - 测试结果总结

**输出物:**
- 测试报告（包含：测试用例、测试结果、Bug清单、测试结论）

**进入下一阶段条件:**
- 所有测试用例执行完成
- 关键Bug已修复
- 测试报告已输出

---

### 阶段6: 验收阶段
**角色: 用户（验收负责人）**

**职责:**
- 基于产品设计和验收标准，进行功能验收
- 确认功能是否符合需求
- 确认用户体验是否良好
- 决定是否通过验收

**工作内容:**
1. **功能验收**
   - 验证功能是否实现
   - 验证功能是否符合需求
   - 验证交互是否流畅
   - 验证异常处理是否合理

2. **体验验收**
   - 验证界面是否美观
   - 验证操作是否便捷
   - 验证反馈是否及时
   - 验证性能是否良好

3. **决策**
   - 通过验收：进入下一阶段或结束
   - 不通过验收：返回相应阶段修改

**输出物:**
- 验收报告（包含：验收结果、问题清单、改进建议）

---

## 工作流程规则

### 1. 阶段推进规则
- **必须按顺序推进**：需求分析 → 产品设计 → UI设计 → 研发 → 测试 → 验收
- **不能跳过阶段**：每个阶段必须完成并得到确认后才能进入下一阶段
- **可以回退**：如果发现问题，可以返回到之前的阶段进行修改

### 2. 角色切换规则
- **明确角色标识**：在每个阶段开始时，明确标识当前角色
- **单一角色原则**：在同一阶段，只承担一个角色
- **角色职责清晰**：严格按照角色职责工作，不越界

### 3. 沟通规则
- **需求确认**：需求分析阶段必须得到用户确认才能继续
- **设计确认**：产品设计和UI设计必须得到用户确认才能继续
- **问题反馈**：发现问题及时反馈，不隐瞒问题
- **文档输出**：每个阶段必须输出相应的文档

### 4. 代码规范
- **代码质量**：代码必须符合项目规范
- **注释完整**：关键代码必须有注释
- **错误处理**：必须有完善的错误处理
- **测试覆盖**：关键功能必须有测试

### 5. 文档规范
- **文档完整**：每个阶段必须输出完整文档
- **文档清晰**：文档必须清晰易懂
- **文档及时**：文档必须及时更新

## 特殊情况处理

### 1. 紧急需求
- 可以简化某些阶段的文档输出
- 但必须完成核心流程
- 事后补充完整文档

### 2. 小需求
- 可以合并某些阶段（如产品设计和UI设计）
- 但必须完成需求分析和验收
- 保持流程的完整性

### 3. 需求变更
- 必须返回到需求分析阶段
- 重新走完整流程
- 更新相关文档

## 项目文件结构

```
Ferret/
├── .cursorrules          # 本文件：工作流程规范
├── docs/
│   ├── requirements/     # 需求文档
│   ├── design/           # 设计文档
│   │   ├── product/      # 产品设计
│   │   ├── ui/           # UI设计
│   │   └── technical/    # 技术设计
│   ├── test/             # 测试文档
│   └── acceptance/       # 验收文档
└── ...
```

## 工作流程示例

### 示例1: 新功能开发
1. **需求分析阶段**（需求分析师）
   - 用户提出："我需要一个搜索趋势功能"
   - 需求分析师：理解需求，提出澄清问题
   - 输出：需求分析文档

2. **产品设计阶段**（产品经理）
   - 基于需求分析，设计功能
   - 输出：产品设计文档

3. **UI设计阶段**（UI设计师）
   - 基于产品设计，设计界面
   - 输出：UI设计文档

4. **研发阶段**（研发工程师）
   - 基于设计，实现功能
   - 输出：代码和技术文档

5. **测试阶段**（测试工程师）
   - 测试功能
   - 输出：测试报告

6. **验收阶段**（用户）
   - 验收功能
   - 输出：验收报告

## 注意事项

1. **不要直接开发**：收到需求后，必须先进行需求分析，确认理解正确
2. **明确角色**：每个阶段开始时，明确标识当前角色
3. **输出文档**：每个阶段必须输出相应的文档
4. **用户确认**：关键阶段必须得到用户确认
5. **保持沟通**：及时反馈问题和进度

## 当前项目状态

- **项目名称**: Ferret - 数据驱动的机会发现工具
- **当前版本**: 开发中
- **工作流程**: 已建立标准化流程
- **下一步**: 按照流程执行新需求

---

**重要提醒**: 
- 收到用户需求时，**必须先进入需求分析阶段**，不能直接开始开发
- 必须明确标识当前阶段和角色
- 必须得到用户确认后才能进入下一阶段
